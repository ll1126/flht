<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title >信息录入</title>

	<link rel="stylesheet" href="../css/thirdParty/bootstrap.css">
	<link rel="stylesheet" href="../css/thirdParty/bootstrap-datetimepicker.css">
	<link rel="stylesheet" href="../css/thirdParty/bootstrap-multiselect.css">
	<link rel="stylesheet" href="../css/thirdParty/bootstrap-table.min.css">
	<link rel="stylesheet" href="../css/thirdParty/font-awesome.min.css">
	<link rel="stylesheet" href="../css/modules/index.css">

	<style>
		.row {
			margin-top: 10px;
		}

		label {
			font-size: 16px;
		}
		.submit-application1,.submit-application2,.submit-application3{
			margin-bottom:100px;
		}
		.border {
			border:1px solid #cccccc;
			padding:20px;
		}
		.title {
			font-weight: bord;
			text-align: center;
			margin-bottom:10px;
			font-size:32px;
		}
		.col-lg-3 {
			width:100%;
		}
		.apply {
			background: #0d8ddb;
			width:200px;
		}
		.tab {
			padding-bottom: 100px;
		}
		.add {
			margin-top:30px;
		}
		table tr th {
			margin-top:30px;
			height:30px;
			line-height:30px;
		}
		table tr th,td{
			text-align: center;
			display: inline-block;
			width:195px;
			margin-right:5px;
			font-size: 16px;
		}
		table tr td label {
			margin-right:10px;
		}
	</style>


</head>

<body>
<div class="container-fluid">

	<div class="channel-type-one" style="display: none; disabled: true;">
		<form class="submit-application1" style="display: block" id="submit-application1" action="../brandInformation/addBrand.do" method="post">
		<div class="border">
		<div class="title">平台信息录入</div>
		<div class="form-group" >
			<div class="row">
				<div class="col-lg-1">
					<label for="platform">平台名称:</label>
				</div>
				<div class="col-lg-2">
					<div class="dowebok">
						<input type="text" class="form-control" id="platform"	name="Platform" required >
					</div>
				</div>
				<div class="col-lg-1">
					<label for="operator">运营公司:</label>
				</div>
				<div class="col-lg-2">
					<input type="text" class="form-control" id="operator" name="Operator" required >
				</div>
				<div class="col-lg-1">
					<label for="contact" >上线时间:</label>
				</div>
				<div class="col-lg-2" style="width: 210px">
					<input type="text" class="form-control" id="start_time_one" name="OnlineTime"  style="width:160px;display:inline-block" required>
				</div>
				<div class="col-lg-1">
					<label for="contactway">利息水平:</label>
				</div>
				<div class="col-lg-2">
					<input type="text" class="form-control" id="interestRate"  name="InterestRate" required>
				</div>

			</div>
		</div>

		<div class="form-group">
			<div class="row">
				<div class="col-lg-1">
					<label for="contact">投资期限:</label>
				</div>
				<div class="col-lg-2">
					<input type="text" class="form-control" id="investmentHorizon" name="InvestmentHorizon" required placeholder="">
				</div>
				<div class="col-lg-1">
					<label for="contactway">注册资金:</label>
				</div>
				<div class="col-lg-2">
					<input type="text" class="form-control" id="registeredFund" name="RegisteredFund" required placeholder="">
				</div>
				<div class="col-lg-1">
					<label for="contact">资金存管:</label>
				</div>
				<div class="col-lg-2" style="width: 210px">
					<input type="text" class="form-control" id="depositFund" name="DepositFund" required style="width: 160px">
				</div>
				<div class="col-lg-1">
					<label for="contactway">担保公司:</label>
				</div>
				<div class="col-lg-2">
					<input type="text" class="form-control" id="guaranteeCompany" name="GuaranteeCompany" required placeholder="">
				</div>
			</div>
		</div>

		<div class="form-group">
			<div class="row">
				<div class="col-lg-1">
					<label for="contact">提现到账:</label>
				</div>
				<div class="col-lg-2">
					<input type="text" class="form-control" id="withdraw" name="Withdraw" required placeholder="">
				</div>
				<div class="col-lg-1">
					<label for="contactway">客服电话:</label>
				</div>
				<div class="col-lg-2">
					<input type="text" class="form-control" id="phoneNumber" name="PhoneNumber" required placeholder="">
				</div>
				<div class="col-lg-1">
					<label for="contact">平台背景:</label>
				</div>
				<div class="col-lg-2"  style="width: 210px">
					<input type="text" class="form-control" id="backgroundPedestal" name="BackgroundPedestal" style="width: 160px">
				</div>
				<div class="col-lg-1">
					<label for="contactway">融资背景:</label>
				</div>
				<div class="col-lg-2">
					<input type="text" class="form-control" id="backgroundFinancing" name="BackgroundFinancing" >
				</div>
			</div>
		</div>

		<div class="form-group">
			<div class="row">
				<div class="col-lg-1">
					<label for="contact">公司地址:</label>
				</div>
				<div class="col-lg-2">
					<input type="text" class="form-control" id="address" name="Address" required placeholder="">
				</div>
				<div class="col-lg-1">
					<label for="contact">风险评估分数:</label>
				</div>
				<div class="col-lg-2">
					<input type="number" class="form-control" id="riskAssessment" name="RiskAssessment" required placeholder="请输入0-100数字">
				</div>
				<div class="col-lg-1">
					<label for="contact">上下架:</label>
				</div>
				<div class="col-lg-1">
					<label class="radio-inline"> <input type="radio" name="shangjia" id="app" value="1"> 上架</label>
				</div>
				<div class="col-lg-1">
					<label class="radio-inline"> <input type="radio" name="shangjia" id="pc" value="2"> 下架</label>
				</div>
			</div>
		</div>

		<div class="form-group">
			<div class="row">
				<div class="col-lg-1">
					<label for="contact">投资攻略:</label>
				</div>
				<div class="col-lg-2">
					<textarea  style="width:650px;height:50px;" id="tzgl" class="form-control"  name="tzgl" required></textarea>
				</div>
			</div>
		</div>

		<div class="form-group">
			<div class="row">
				<div class="col-lg-1">
					<label for="contact">重要提示:</label>
				</div>
				<div class="col-lg-2">
					<textarea  style="width:650px;height:50px;" id="zyts" class="form-control"  name="zyts"></textarea>
				</div>
			</div>
		</div>

		<div class="form-group">
			<div class="row">
				<div class="col-lg-1">
					<label for="contact">风险小组推荐理由:</label>
				</div>
				<div class="col-lg-2">
					<textarea  style="width:650px;height:50px;" id="tjly" class="form-control" name="tjly"></textarea>
				</div>
			</div>
		</div>
		<div class="form-group">
			<div class="row">
				<div class="col-lg-3" style="text-align: center">
					<button type="submit"  class="btn btn-default apply btn1" style="color: white">提交</button>
				</div>
			</div>
		</div>
		</div>
	</form>

	</div>
		<form id="submit-application2" class="submit-application2" action="../objectList/addObject.do"  enctype="multipart/form-data"  method="post">
			<div class="border">
			<div class="title">项目信息录入</div>
			<div class="form-group">
				<div class="row">
					<div class="col-lg-1">
						<label for="channelname">平台名称:</label>
					</div>
					<div class="col-lg-2">
						<div class="dowebok">
							<select class="form-control" name="platformID" id="platformID" onclick="getForm()"  >
								<option></option>
							</select>
						</div>
					</div>
					<div class="col-lg-1">
						<label for="contactway">项目名称:</label>
					</div>
					<div class="col-lg-2">
						<input type="text" class="form-control" id="platform" name="platform" required placeholder="">
					</div>
					<div class="col-lg-1"><!-- 上传图片 -->
						<label for="companyname">平台LOGO:</label>
					</div>
					<div class="col-lg-2">
						<input type="file" class="form-control" id="file" name="file">
					</div>
				</div>
			</div>

			<div class="form-group">
				<div class="row">
					<div class="col-lg-1">
						<label for="contact">类型:</label>
					</div>
					<div class="col-lg-1">
						<label class="radio-inline"> <input type="radio" name="type" id="app" value="1"> 首投</label>
					</div>
					<div class="col-lg-1">
						<label class="radio-inline"> <input type="radio" name="type" id="pc" value="2"> 复投</label>
					</div>

					<div class="col-lg-1">
						<label for="contact">上下架:</label>
					</div>
					<div class="col-lg-1">
						<label class="radio-inline"> <input type="radio" name="objectState" id="app" value="1"> 上架 </label>
					</div>
					<div class="col-lg-1">
						<label class="radio-inline"> <input type="radio" name="objectState" id="pc" value="2"> 下架</label>
					</div>
					<div class="col-lg-1">
						<label for="contact">排序:</label>
					</div>
					<div class="col-lg-1" style="width:280px">
						<input type="number" class="form-control" id="paixu" name="paixu"  value="99">
					</div>
				</div>
			</div>
			<div class="form-group">
				<div class="row">
					<div class="col-lg-1">
						<label for="contactway">综合年化:</label>
					</div>
					<div class="col-lg-2">
						<input type="text"   class="form-control" id="AnnualizedReturnsMin" maxlength="5"
							   name="AnnualizedReturnsMin" required placeholder="请输入数字" style="width:100px;display:inline-block">%
						--
						<input type="text"  class="form-control" id="AnnualizedReturnsMax" maxlength="5"
							   name="AnnualizedReturnsMax" required placeholder="请输入数字" style="width:100px;display:inline-block">%
					</div>
					<div class="col-lg-1">
						<label for="contact">原年化区间:</label>
					</div>
					<div class="col-lg-2">
						<input type="text"  maxlength="5" class="form-control" id="annualSectionMin"
							   name="annualSectionMin" required placeholder="请输入数字" style="width:100px;display:inline-block">%
						--
						<input type="text" maxlength="5"  class="form-control" id="annualSectionMax"
							   name="annualSectionMax" required placeholder="请输入数字" style="width:100px;display:inline-block">%
					</div>
					<div class="col-lg-1"><!-- 下拉 -->
						<label for="contactway">标的期限:</label>
					</div>
					<div class="col-lg-2">
						<input type="number" class="form-control" id=objectDeadline
							   name="objectDeadline" required placeholder="输入数字" style="width:100px;display:inline-block">
						<select id="channel-type" class="form-control" name="objectTian" style="width:120px;display:inline-block">
							<option> </option>
							<option  value="天及以上">天及以上</option>
							<option value="个月及以上">个月及以上</option>
						</select>
					</div>
				</div>
			</div>

			<div class="form-group">
				<div class="row">
					<div class="col-lg-1">
						<label for="contact">PC直达链接:</label>
					</div>
					<div class="col-lg-1" style="width:280px">
						<input type="text" class="form-control" id="zdljpc" name="zdljpc"  placeholder="直达链接">
					</div>

					<div class="col-lg-1">
						<label for="contact">APP直达链接:</label>
					</div>
					<div class="col-lg-1" style="width:280px">
						<input type="text" class="form-control" id="zdljapp" name="zdljapp"  placeholder="直达链接">
					</div>
					<div class="col-lg-1">
						<label for="contact">起投金额:</label>
					</div>
					<div class="col-lg-2" style="width: 210px">
						<input type="text" class="form-control" id="minMoney" name="minMoney" required placeholder="请输入数字" style="width: 160px">
					</div>
					<div class="col-lg-1">
						<label for="contactway">最高限额:</label>
					</div>
					<div class="col-lg-2">
						<input type="text" class="form-control" id="maxMoney" name="maxMoney" required placeholder="请输入数字">
					</div>

				</div>
			</div>

			<div class="form-group">
				<div class="row">
					<div class="col-lg-1">
						<label >标签:</label>
					</div>
					<div class="col-lg-2">
						<input type="text" class="form-control" id="tag" name="tag" required placeholder="请输入多个标签，用“,”分隔开">
					</div>
					<div class="col-lg-1">
						<label >平台网址:</label>
					</div>
					<div class="col-lg-2">
						<input type="text" class="form-control" id="platformAddress" name="platformAddress" required>
					</div>
					<div class="col-lg-1">
						<label for="contactway">平台上线时间:</label>
					</div>
					<div class="col-lg-2">
						<input type="text" class="form-control" id="start_time_one2" name="objectUpTime" required>
					</div>
				</div>
			</div>

			<div class="form-group">
				<div class="row">
					<div class="col-lg-1">
						<label >最高返利金额:</label>
					</div>
					<div class="col-lg-2">
						<input type="text" class="form-control" id="maxReturnMoney" name="maxReturnMoney" required placeholder="请输入数字">
					</div>
					<div class="col-lg-1">
						<label>投资额度范围:</label>
					</div>
					<div class="col-lg-2">
						<input type="text" class="form-control" id="investmentSection" name="investmentSection" >
					</div>
				</div>
			</div>
			<div class="form-group" >
				<div class="row">
					<div class="col-lg-3" style="text-align: center">
						<button type="submit"  class="btn btn-default apply btn2" style="color: white">提交</button>
					</div>
				</div>
			</div>
			</div>
		</form>

	<form id="submit-application3" class="submit-application3" action="../rebate/addScheme.do" method="post">
		<div class="border tab">
		<div class="title">返利方案录入</div>
		<table style="display: block;">
			<tr>
				<th>项目信息</th>
				<th>有效期限</th>
				<th>有效项目</th>
				<th>投资额度</th>
				<th>去哪理财</th>
				<th>原平台利息</th>
				<th>红包</th>
				<th>上下架</th>
			</tr>
			<tr>
				<td>
					<select class="form-control" name="objectID" id="objectID" onclick="getObject()" >
						<option></option>
					</select>
				</td>
				<td>
					<input type="text" class="form-control" id="limitedDuration" name="limitedDuration" required >
				</td>
				<td>
					<input type="text" class="form-control" id="effectiveProject" name="effectiveProject" required >
				</td>
				<td>
					<input type="text" class="form-control" id="investmentLimit" name="investmentLimit" required placeholder="请输入数字">
				</td>
				<td>
					<input type="text" class="form-control" id="rebateImmediately" required placeholder="请输入数字" name="rebateImmediately">
				</td>
				<td>
					<input type="text" class="form-control" id="platformRate" name="platformRate" required placeholder="请输入数字">
				</td>
				<td>
					<input type="text" class="form-control" id="redPacket" name="redPacket" required placeholder="请输入数字">
				</td>
				<td>
					 <label><input type="radio" name="shangjia" id="app" value="1"> 上架</label>
					 <label><input type="radio" name="shangjia" id="pc" value="2"> 下架</label>
				</td>
			</tr>
			<tr>
				<th>其他</th>
				<th>总收益</th>
				<th>原年化</th>
				<th>综合年化</th>
				<th>返利周期</th>
				<th>第三方平台返点百分比%</th>
				<th>给用户返利方式</th>
				<th style="display:none;" id="fdzLable">返点百分比</th>
			</tr>
			<tr>
				<td>
					<input type="text" class="form-control" id="rest" name="rest" required placeholder="请输入数字">
				</td>
				<td>
					<input type="text" class="form-control" id="totalRevenue" name="totalRevenue" required placeholder="请输入数字">
				</td>
				<td>
					<input type="text" class="form-control" id="primaryRate" name="primaryRate" required placeholder="请输入数字">
				</td>
				<td>
					<input type="text" class="form-control" id="synthesizeRate" name="synthesizeRate" required placeholder="请输入数字">
				</td>
				<td>
					<input type="text" class="form-control" id="rebateDuration" name="rebateDuration" required placeholder="">
				</td>
				<td>
					<input type="text" class="form-control" id="disanfang" name="disanfang" required placeholder="只能输入数字">
				</td>
				<td>
					<select  style="width:200px;display: block;height: 34px;padding: 6px 12px;font-size: 14px;
							line-height: 1.42857143;color: #555;
						    background-color: #fff;
						    background-image: none;
						    border: 1px solid #ccc;" name="fanDian" id="fanDian">
						<option ></option>
						<option value ="0">区间式</option>
						<option value ="1">浮点式</option>
					</select>
				</td>
				<td>
					<input type="text" class="form-control" id="fanDianScheme1"
						   name="fanDianScheme" placeholder="请输入数字" style="width:110px;display:inline-block">
					<span id="dw" style="display:none">%</span>
				</td>
			</tr>

			<tr>
				<th>代理商返利方式</th>
				<th style="display:none;" id="beAgent">返点百分比</th>
			</tr>

			<tr>

				<td>
					<select  style="width:200px;display: block;height: 34px;padding: 6px 12px;font-size: 14px;
							line-height: 1.42857143;color: #555;
						    background-color: #fff;
						    background-image: none;
						    border: 1px solid #ccc;" name="agentFanDian" id="agent">
						<option ></option>
						<option value ="0">区间式</option>
						<option value ="1">浮点式</option>
					</select>
				</td>
				<td>
					<input type="text" class="form-control" id="agentScheme"
						   name="agentFanDianScheme"  placeholder="请输入数字" style="width:110px;display:inline-block">
					<span id="dw2" style="display:none">%</span>
				</td>
			</tr>
		</table>
			<div class="col-lg-3" style="text-align: center">
				<button type="submit"  class="btn btn-default apply add btn3" style="color: white">提交</button>
			</div>
		</div>
	</form>
	<script src="../js/thirdParty/jquery.min.js"></script>
	<script src="../js/thirdParty/bootstrap.js"></script>
	<script src="../js/thirdParty/bootstrap-table.min.js"></script>
	<script src="../js/thirdParty/bootstrap-table-zh-CN.min.js"></script>
	<script src="../js/thirdParty/bootstrap-datetimepicker.js"></script>
	<script src="../js/thirdParty/bootstrap-datetimepicker.zh-CN.js"></script>
	<script src="../js/thirdParty/jquery.form.min.js"></script>
	<script src="../js/thirdParty/bootstrap-multiselect.js"></script>

	<script>
        (function() {

            $("#fanDian").change(function(){
                $("#fdzLable").show();
                if($(this).val() == 1) {
                    $("#fdzLable").text("返点百分比:");
                    $("#dw").show();
                }  else {
                    $("#fdzLable").text("返利金额:");
                    $("#dw").hide();
                }
            });

            $("#agent").change(function(){
                $("#beAgent").show();
                if($(this).val() == 1) {
                    $("#beAgent").text("返点百分比:");
                    $("#dw2").show();
                }  else {
                    $("#beAgent").text("返利金额:");
                    $("#dw2").hide();
                }
            });
            $('#fileinput').on('change', function() {
                var filename = this.value;
                var filepoint = filename.lastIndexOf('.');
                var fileext = filename.substr(filepoint + 1);

                if (isfiletype(fileext) === 0) {
                    $('.fileinputhelp').text('不支持该文件类型上传');
                    this.value = '';
                } else {
                    $('.fileinputhelp').text('');
                }
            });

            function isfiletype(fileext) {
                var fileextarr = [ 'docx', 'doc', 'jpg', 'png', 'pdf','xls','txt' ];
                var isfile = 0;
                for (var i = 0; i < fileextarr.length; i++) {
                    if (fileext === fileextarr[i]) {
                        isfile++;
                        return;
                    }
                }
                return isfile;
            }

            $('.deletefilebtn').on('click', function(e) {
                e.preventDefault();
                $('#fileinput').val('');
            });

            //初始化日期选择器
            function init_date_choose($start, $end) {
                $start.datetimepicker({
                    format : 'yyyy-mm-dd',
                    autoclose : true,
//                    todayBtn : true,
                    minView: 2,
//                    startDate : new Date(),
                    language : 'zh-CN'
                }).on("click", function() {
//                    $start.datetimepicker("setStartDate", new Date());
                });
                $end.datetimepicker({
                    format : 'yyyy-mm-dd',
                    autoclose : true,
//                    todayBtn : true,
                    minView: 2,
                    language : 'zh-CN'
                }).on("click", function() {
//                    $end.datetimepicker("setStartDate", $start.val());
                });
            }
            init_date_choose($('#start_time_one'), $('#start_time_one2'));

            var $channel_type_one = $(".channel-type-one");
           var $channel_type = $('.channel-type');

            //异步提交表单
            function bindsumbit1() {

                var $submit_application = $('#submit-application1');
                var options = {
                    success : function(data) {
                        if (data.code == 0) {
                            $submit_application.resetForm();
                            parent.layer.msg(data.message);
                        }
                    },
                    error : function() {
                        parent.layer.msg("录入失败");
                        $('.apply').button('reset');
                    }
                };
                $submit_application.ajaxForm(options);
            }

            function bindsumbit2() {

                var $submit_application = $('#submit-application2');
                var options = {
                    success : function(data) {
                        if (data.code == 0) {
                            $submit_application.resetForm();
                            parent.layer.msg("项目录入成功！");
                        }
                    },
                    error : function() {
                        parent.layer.msg("录入失败");
                        $('.apply').button('reset');
                    }
                };
                $submit_application.ajaxForm(options);
            }

            function bindsumbit3() {

                var $submit_application = $('#submit-application3');
                var options = {
                    success : function(data) {
                        if (data.code == 0) {
                      //      $submit_application.resetForm();
                            parent.layer.msg(data.message);
                        }
                    },
                    error : function() {
                        parent.layer.msg("录入失败");
                        $('.apply').button('reset');
                    }
                };
                $submit_application.ajaxForm(options);
            }

            $(document).ready(function() {
                $channel_type.append($channel_type_one);
                init_date_choose($('#start-date-one'), $('#end-date-one'),$('#start_time_one2'));
                $channel_type_one.show();
                bindsumbit1();
                bindsumbit2();
                bindsumbit3();

            });
            $('#channel-type').multiselect();

        })();

        function  getForm() {
            $.get("../brandInformation/getBrandList.do",function(result){
                if(result!=null||result!=""){
                    var select=$("#platformID");
                    console.log(result);
                    for(var i=0;i<result.content.length;i++){
                        var option='<option value="'+result.content[i].id+'">'+result.content[i].platform+'</option>';
                        select.append($(option));
                    }
                }
            });
			
        }

        function  getObject() {
            $.get("../objectList/getObjectList.do",function(result){
                if(result!=null||result!=""){
                    var select=$("#objectID");
                    console.log(result);
                    for(var i=0;i<result.content.length;i++){
                        var option='<option value="'+result.content[i].platformID+'">'+result.content[i].platform+'</option>';
                        select.append($(option));
                    }
                }
            });

        }
	</script>
</body>

</html>